= Widgets Reference
:doctype: book
:icons: font
:source-highlighter: highlight.js
:toc: left
:toclevels: 3

include::_attributes.adoc[]

{project-name} provides a comprehensive set of widgets for building terminal UIs.

== Widget Overview

[cols="1,1,2",options="header"]
|===
|Widget |Type |Description

|<<block,Block>>
|Stateless
|Container with borders, titles, and padding

|<<paragraph,Paragraph>>
|Stateless
|Multi-line text with wrapping and alignment

|<<listwidget,ListWidget>>
|Stateful
|Scrollable list with selection

|<<table,Table>>
|Stateful
|Grid with rows, columns, and selection

|<<tabs,Tabs>>
|Stateful
|Tab bar with selection

|<<gauge,Gauge>>
|Stateless
|Progress bar with percentage

|<<linegauge,LineGauge>>
|Stateless
|Horizontal line progress indicator

|<<sparkline,Sparkline>>
|Stateless
|Mini line chart for data series

|<<barchart,BarChart>>
|Stateless
|Vertical bar chart

|<<chart,Chart>>
|Stateless
|Line and scatter plots with axes

|<<canvas,Canvas>>
|Stateless
|Drawing surface with shapes

|<<calendar,Calendar>>
|Stateless
|Monthly calendar with date styling

|<<spinner,Spinner>>
|Stateful
|Animated loading indicator

|<<scrollbar,Scrollbar>>
|Stateful
|Visual scroll position indicator

|<<textinput,TextInput>>
|Stateful
|Single-line text input

|<<textarea,TextArea>>
|Stateful
|Multi-line text input

|<<checkbox,Checkbox>>
|Stateful
|Toggleable checkbox

|<<toggle,Toggle>>
|Stateful
|On/off toggle switch

|<<select,Select>>
|Stateful
|Inline select with navigation indicators

|<<tree,Tree>>
|Stateful
|Hierarchical tree view with expand/collapse

|<<wavetext,WaveText>>
|Stateful
|Animated wave brightness text effect

|<<logo,Logo>>
|Stateless
|Renders the Tamboui logo

|<<errordisplay,ErrorDisplay>>
|Stateless
|Displays error information with stack trace

|<<clear,Clear>>
|Stateless
|Clears an area (for widget layering)
|===

== Container Widgets

=== Block

A `Block` is the most fundamental container widget. It can have borders, titles, and padding.

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=block]
----

Border types:

* `BorderType.PLAIN` - Simple lines (`‚îÄ`, `‚îÇ`)
* `BorderType.ROUNDED` - Rounded corners (`‚ï≠`, `‚ïÆ`, `‚ï∞`, `‚ïØ`)
* `BorderType.DOUBLE` - Double lines (`‚ïê`, `‚ïë`)
* `BorderType.THICK` - Thick lines (`‚îÅ`, `‚îÉ`)

=== Clear

Clears an area by filling it with spaces. Useful before rendering overlays:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=clear]
----

For layout widgets (Columns, Grid, Dock, Stack, Flow), see link:layouts.html[Layouts Reference].

== Text Widgets

=== Paragraph

Displays multi-line text with wrapping and alignment:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=paragraph]
----

Wrap modes:

* `Wrap.NONE` - No wrapping, text is clipped
* `Wrap.CHARACTER` - Wrap at any character
* `Wrap.WORD` - Wrap at word boundaries

== Selection Widgets

=== ListWidget

A low-level scrollable list widget with selection. This is part of the widgets layer and requires manual state management with `ListState`.

NOTE: **For Toolkit DSL users**: Use `ListElement` instead (via `list()` factory method). It manages state internally and accepts any `StyledElement` as items. See <<listwidget-vs-listcontainer>>.

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=list-widget]
----

State methods:

* `state.select(index)` - Select specific index
* `state.selectNext(totalItems)` - Move selection down
* `state.selectPrevious()` - Move selection up
* `state.selectFirst()` - Jump to first item
* `state.selectLast(totalItems)` - Jump to last item

[[listwidget-vs-listcontainer]]
==== ListWidget vs ListElement

TamboUI provides two list implementations at different API levels:

[cols="1,2,2",options="header"]
|===
|Feature |ListWidget (widgets layer) |ListElement (toolkit layer)

|State management
|External `ListState` required
|Internal state, no external state needed

|Item types
|`ListItem` only (text + style)
|Any `StyledElement` (text, rows, panels, etc.)

|Usage
|Direct widget rendering
|Toolkit DSL fluent API

|Best for
|Custom TuiRunner apps, fine-grained control
|ToolkitApp, declarative UIs
|===

**ListWidget** is for low-level control when you need to manage state externally or are building custom rendering with `TuiRunner`.

**ListElement** is for Toolkit DSL users who want:

* Internal state management (no `ListState` needed)
* Rich content (any `StyledElement` as items, not just text)
* Automatic event handling (UP/DOWN navigation built-in)
* Seamless integration with other toolkit elements

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=list-element]
----

=== Table

A data table with rows and columns:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=table]
----

=== Tabs

A tab bar for navigation:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=tabs]
----

=== Tree

A hierarchical tree view with expand/collapse, keyboard navigation, and support for custom node rendering. Use `TreeElement` (toolkit layer) with `TreeNode` for the data model.

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=tree]
----

==== Model/View Separation

TreeElement encourages clean separation between data and presentation:

**Model (TreeNode + Data)**: Contains only data, no rendering logic.
[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=tree-model]
----

**View (nodeRenderer)**: Transforms data into styled elements.
[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=tree-view]
----

This separation allows:

* **Reusable models**: Same `TreeNode<T>` data can be rendered differently in different contexts
* **Testable logic**: Data transformations can be unit tested without UI
* **Flexible presentation**: Change rendering without modifying data structures

==== Keyboard Navigation

[cols="1,2",options="header"]
|===
|Key |Action

|‚Üë/‚Üì |Move selection up/down
|‚Üí |Expand node or move to first child
|‚Üê |Collapse node or move to parent
|Enter/Space |Toggle expand/collapse
|Home/End |Jump to first/last visible node
|Page Up/Down |Scroll by viewport height
|===

==== Lazy Loading

Load children on-demand for large trees:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=tree-lazy]
----

The loader is called once when the node is first expanded.

==== CSS Styling

Style trees with CSS, including the `:selected` pseudo-class:

[source,css]
----
/* Guide characters */
TreeElement-guide {
    color: #45475a;
}

/* Selected node styling */
TreeElement-node:selected {
    color: #89dceb;
    background: #313244;
    bold: true;
}

/* Scrollbar */
TreeElement-scrollbar-thumb {
    color: #89b4fa;
}
----

CSS selectors:

* `TreeElement` - the container
* `TreeElement-node` - each tree node
* `TreeElement-node:selected` - the selected node
* `TreeElement-guide` - guide/branch characters
* `TreeElement-scrollbar-thumb` - scrollbar thumb
* `TreeElement-scrollbar-track` - scrollbar track

== Data Visualization

=== Gauge

A progress bar showing completion percentage:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=gauge]
----

=== LineGauge

A compact single-line progress indicator:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=line-gauge]
----

=== Sparkline

A mini chart showing data trends:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=sparkline]
----

=== BarChart

Vertical bar chart for comparing values:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=bar-chart]
----

=== Chart

Line and scatter plots with axes:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=chart]
----

Marker types:

* `Marker.DOT` - Single dots
* `Marker.BRAILLE` - Braille patterns for higher resolution
* `Marker.BLOCK` - Block characters

=== Canvas

A drawing surface for custom graphics:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=canvas]
----

Available shapes:

* `Circle` - Circle with center and radius
* `Line` - Line between two points
* `Rectangle` - Rectangle with position and size
* `Points` - Collection of individual points

=== Calendar

A monthly calendar widget:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=calendar]
----

== Animated Widgets

=== Spinner

An animated loading indicator that cycles through frame characters:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=spinner]
----

Built-in styles:

* `SpinnerStyle.DOTS` - Braille dot pattern
* `SpinnerStyle.LINE` - Classic `-\|/`
* `SpinnerStyle.ARC` - Quarter-circle characters
* `SpinnerStyle.CIRCLE` - Clock-position circle
* `SpinnerStyle.BOUNCING_BAR` - Bouncing bar `[=== ]`
* `SpinnerStyle.TOGGLE` - Two-state toggle
* `SpinnerStyle.GAUGE` - Horizontal block fill (`‚ñè‚ñé‚ñç‚ñå‚ñã‚ñä‚ñâ‚ñà`)
* `SpinnerStyle.VERTICAL_GAUGE` - Vertical bar growth (`‚ñÅ‚ñÇ‚ñÉ‚ñÑ‚ñÖ‚ñÜ‚ñá‚ñà`)
* `SpinnerStyle.ARROWS` - Rotating arrow directions
* `SpinnerStyle.CLOCK` - Clock face emoji (üïêüïë...)
* `SpinnerStyle.MOON` - Moon phase emoji (üåëüåí...)
* `SpinnerStyle.SQUARE_CORNERS` - Rotating square corners
* `SpinnerStyle.GROWING_DOTS` - Braille dots filling
* `SpinnerStyle.BOUNCING_BALL` - Bouncing ball in braille

==== CSS Properties

Spinner style and frames can be configured via CSS:

[source,css]
----
/* Use a predefined style */
.loading-spinner {
    spinner-style: line;
    color: cyan;
}

/* Use custom animation frames */
.custom-spinner {
    spinner-frames: "‚†ã" "‚†ô" "‚†π" "‚†∏" "‚†º" "‚†¥" "‚†¶" "‚†ß";
}

/* spinner-frames overrides spinner-style when both are set */
.fancy-spinner {
    spinner-style: dots;
    spinner-frames: "*" "+" "x" "+";  /* This takes precedence */
}
----

NOTE: Programmatic styles set via `spinnerStyle()`, `frameSet()`, or `frames()` take precedence over CSS styles.

NOTE: **For Toolkit DSL users**: Use `SpinnerElement` via `spinner()` factory methods. It manages state internally and advances automatically on each render. See <<toolkit-dsl>>.

[[wavetext]]
=== WaveText

An animated text widget with a wave brightness effect:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=wave-text]
----

Configuration options:

* `color(Color)` - Base color of the text
* `dimFactor(double)` - Brightness of dim portion (0.0-1.0, default 0.3)
* `peakWidth(int)` - Width of the wave peak in characters (default 3)
* `peakCount(int)` - Number of peaks in the wave (default 1)
* `speed(double)` - Animation speed multiplier (default 1.0)
* `mode(Mode)` - `LOOP` (continuous) or `OSCILLATE` (back-and-forth)
* `inverted(boolean)` - If true, bright peak on dim text; if false, dark shadow on bright text

CSS properties:

* `color` - Base text color
* `wave-dim-factor` - Brightness of dim portion
* `wave-peak-width` - Width of wave peak
* `wave-peak-count` - Number of peaks
* `wave-speed` - Animation speed multiplier

== Input Widgets

=== TextInput

A single-line text input field:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=text-input]
----

State methods:

* `state.text()` - Get current text
* `state.setText(text)` - Set text
* `state.insert(char)` - Insert character at cursor
* `state.deleteBackward()` - Backspace
* `state.deleteForward()` - Delete
* `state.moveCursorLeft()` / `moveCursorRight()` - Move cursor
* `state.clear()` - Clear all text

[[textarea]]
=== TextArea

A multi-line text input field with scrolling and optional line numbers:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=text-area]
----

State methods:

* `state.text()` - Get full text content
* `state.setText(text)` - Set text content
* `state.lineCount()` - Get number of lines
* `state.getLine(row)` - Get text of specific line
* `state.insert(char)` / `state.insert(string)` - Insert at cursor
* `state.deleteBackward()` / `state.deleteForward()` - Delete characters
* `state.moveCursorUp()` / `moveCursorDown()` / `moveCursorLeft()` / `moveCursorRight()` - Move cursor
* `state.moveCursorToLineStart()` / `moveCursorToLineEnd()` - Jump to line boundaries
* `state.moveCursorToStart()` / `moveCursorToEnd()` - Jump to document boundaries
* `state.scrollUp(amount)` / `state.scrollDown(amount, visibleRows)` - Manual scrolling
* `state.clear()` - Clear all content

CSS properties:

* `cursor-color` - Cursor highlight color
* `placeholder-color` - Placeholder text color
* `line-number-color` - Line number gutter color

[[checkbox]]
=== Checkbox

A toggleable checkbox widget displaying checked/unchecked state:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=checkbox]
----

State methods:

* `state.isChecked()` / `state.value()` - Get checked state
* `state.setChecked(boolean)` / `state.setValue(boolean)` - Set state
* `state.toggle()` - Toggle and return new value

CSS properties:

* `checkbox-checked-symbol` - Symbol when checked (default: "[x]")
* `checkbox-unchecked-symbol` - Symbol when unchecked (default: "[ ]")
* `checkbox-checked-color` - Foreground color when checked
* `checkbox-unchecked-color` - Foreground color when unchecked

[[toggle]]
=== Toggle

A toggle switch widget with two display modes:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=toggle]
----

State methods:

* `state.isOn()` / `state.value()` - Get on/off state
* `state.setOn(boolean)` / `state.setValue(boolean)` - Set state
* `state.toggle()` - Toggle and return new value

CSS properties (single mode):

* `toggle-on-symbol` - Symbol when on (default: "[ON ]")
* `toggle-off-symbol` - Symbol when off (default: "[OFF]")
* `toggle-on-color` - Foreground color when on
* `toggle-off-color` - Foreground color when off

CSS properties (inline choice mode):

* `toggle-selected-indicator` - Selected option indicator (default: "‚óè")
* `toggle-unselected-indicator` - Unselected option indicator (default: "‚óã")
* `toggle-selected-color` - Color for selected option
* `toggle-unselected-color` - Color for unselected option

[[select]]
=== Select

An inline select widget showing the current selection with navigation indicators:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=select]
----

State methods:

* `state.selectedValue()` / `state.value()` - Get selected option text
* `state.selectedIndex()` - Get selected index
* `state.options()` - Get all options
* `state.optionCount()` - Get number of options
* `state.selectIndex(int)` - Select by index
* `state.selectNext()` / `state.selectPrevious()` - Navigate (wraps)
* `state.selectFirst()` / `state.selectLast()` - Jump to ends
* `state.setOptions(...)` - Replace available options

CSS properties:

* `select-left-indicator` - Left navigation indicator (default: "< ")
* `select-right-indicator` - Right navigation indicator (default: " >")
* `select-selected-color` - Foreground color for selected value
* `select-indicator-color` - Foreground color for indicators

== Utility Widgets

=== Scrollbar

Visual indicator of scroll position:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=scrollbar]
----

[[logo]]
=== Logo

Renders the Tamboui logo for use in help or about screens:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=logo]
----

Available sizes:

* `Logo.Size.TINY` - 2-line compact logo using braille characters
* `Logo.Size.NORMAL` - 4-line logo using box-drawing characters

[[errordisplay]]
=== ErrorDisplay

Displays exception information with a formatted stack trace:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=error-display]
----

The widget displays:

* Exception type in red and bold
* Error message
* Full stack trace (scrollable)
* Footer with instructions

[[clear]]
=== Clear

Clears an area by filling it with a style. Useful for widget layering:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=clear-style]
----

[[toolkit-dsl]]
== Using Widgets with Toolkit DSL

The Toolkit DSL provides fluent factories for all widgets:

[source,java]
----
include::{snippets-dir}/dev/tamboui/docs/snippets/WidgetsSnippets.java[tags=toolkit-dsl]
----

For layout DSL examples (columns, grid, dock, stack, flow), see link:layouts.html[Layouts Reference].

See link:api-levels.html[API Levels] for more details on the Toolkit DSL.
